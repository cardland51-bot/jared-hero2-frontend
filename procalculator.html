<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Cardinal Garage Pro ‚Ä¢ Upload ‚Üí Estimate ‚Üí Send</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="procalculator.css" />
</head>
<body>
  <!-- Top Bar -->
  <header class="topbar">
    <div class="brand">
      <div class="brand-mark">CARDINAL</div>
      <div class="brand-sub">Garage Pro ‚Ä¢ Field Estimate Console</div>
    </div>
    <nav class="topnav">
      <button class="pill" id="btnGarage">Garage</button>
      <a class="pill subtle" href="./" id="btnHome">Home</a>
    </nav>
  </header>

  <!-- Main Layout -->
  <main class="layout">
    <!-- Left: Upload / Preview / Analyze -->
    <section class="panel panel-main">
      <h1 class="headline">Upload ‚Üí Estimate ‚Üí Send</h1>
      <p class="subline">Photo-first estimates with real numbers, upsell signal, and risk clarity.</p>

      <div class="upload-actions">
        <button class="btn primary" id="btnUpload">‚¨Ü Upload Photo</button>
        <button class="btn ghost" id="btnAnalyze">üîç Analyze Now</button>
        <button class="btn ghost" id="btnSpeak">üîä Read It</button>
      </div>

      <input type="file" id="fileInput" accept="image/*" hidden />

      <!-- Preview frame -->
      <div class="preview-frame" id="previewFrame">
        <div class="preview-placeholder" id="previewPlaceholder">
          Drop in a yard, driveway, bed, or frontage photo.<br />
          This is the live tool your reps keep open.
        </div>
        <img id="previewImage" alt="Preview" class="preview-img hidden" />
      </div>

      <!-- Result summary -->
      <div class="summary-block">
        <div class="summary-line">
          <span class="summary-label">Field Estimate</span>
          <span class="summary-value" id="estPrice">$‚Äî</span>
        </div>
        <div class="summary-line">
          <span class="summary-label">Upsell Potential</span>
          <span class="summary-soft" id="estUpsell">‚Äî</span>
        </div>
        <div class="summary-text" id="estSummary">
          Ready when you are. Upload a photo or run a quick calculator.
        </div>
      </div>

      <!-- Metrics -->
      <div class="metrics">
        <div class="metric">
          <div class="metric-label">
            Close Confidence
            <span class="metric-val" id="closeVal">0%</span>
          </div>
          <div class="metric-bar"><div class="metric-fill" id="closeBar"></div></div>
        </div>
        <div class="metric">
          <div class="metric-label">
            Upsell Signal
            <span class="metric-val" id="upsellVal">0%</span>
          </div>
          <div class="metric-bar"><div class="metric-fill" id="upsellBar"></div></div>
        </div>
        <div class="metric">
          <div class="metric-label">
            Risk / Rework
            <span class="metric-val" id="riskVal">0%</span>
          </div>
          <div class="metric-bar"><div class="metric-fill" id="riskBar"></div></div>
        </div>
      </div>

      <!-- System note -->
      <div class="note" id="systemNote">
        Tip: This console sends clean JSON to your backend. All pricing logic lives on your side.
      </div>
    </section>

    <!-- Right: Calculators & Garage -->
    <section class="panel panel-side">
      <h2 class="side-title">Pro Calculators</h2>
      <p class="side-sub">Slide open a tool. Your reps can run numbers before or after a photo.</p>

      <!-- Mowing Widget -->
      <div class="widget">
        <button class="widget-header" data-target="#mowingBody">
          <span>üèÅ Mowing / Basic Service</span>
          <span class="widget-toggle">‚ñº</span>
        </button>
        <div class="widget-body" id="mowingBody">
          <form id="mowingForm" class="form-grid">
            <label>
              Lot Size (sq ft)
              <input type="number" id="mowArea" min="0" placeholder="e.g. 6500" />
            </label>
            <label>
              Terrain
              <select id="mowTerrain">
                <option value="">Select</option>
                <option value="easy">Easy / flat</option>
                <option value="normal">Normal</option>
                <option value="tough">Tight / hills</option>
              </select>
            </label>
            <label>
              Gate / Access
              <select id="mowAccess">
                <option value="">Standard</option>
                <option value="narrow">Narrow gate</option>
                <option value="limited">Limited access</option>
              </select>
            </label>
            <label>
              Visit Type
              <select id="mowVisit">
                <option value="">One-time</option>
                <option value="biweekly">Bi-weekly</option>
                <option value="weekly">Weekly route</option>
              </select>
            </label>
          </form>
          <div class="widget-actions">
            <button class="btn small primary" id="btnMowEstimate">Run Mowing Estimate</button>
            <span class="widget-hint">Outputs into main estimate block.</span>
          </div>
        </div>
      </div>

      <!-- Landscaping Widget -->
      <div class="widget">
        <button class="widget-header" data-target="#landBody">
          <span>ü™¥ Landscaping Scope</span>
          <span class="widget-toggle">‚ñº</span>
        </button>
        <div class="widget-body" id="landBody">
          <form id="landForm" class="form-grid">
            <label>
              Beds / Zones
              <input type="number" id="landBeds" min="0" placeholder="e.g. 3" />
            </label>
            <label>
              Mulch / Rock
              <select id="landMaterial">
                <option value="">Select</option>
                <option value="basic_mulch">Standard mulch</option>
                <option value="premium_mulch">Premium mulch</option>
                <option value="stone">Stone / rock</option>
              </select>
            </label>
            <label>
              Shrubs / Small Plants
              <input type="number" id="landShrubs" min="0" placeholder="e.g. 14" />
            </label>
            <label>
              Edge / Detail Time
              <select id="landDetail">
                <option value="">Normal</option>
                <option value="high_detail">High detail</option>
                <option value="overgrown">Overgrown</option>
              </select>
            </label>
          </form>

          <!-- Mystery Controls (sent to backend as flags) -->
          <div class="mystery-row">
            <button class="mystery-btn" data-flag="sig_route" title="Signal Route Lock-in"></button>
            <button class="mystery-btn" data-flag="sig_premium" title="Signal Premium Scope"></button>
            <button class="mystery-btn" data-flag="sig_speed" title="Signal Speed Window"></button>
          </div>

          <div class="widget-actions">
            <button class="btn small primary" id="btnLandEstimate">Run Landscaping Estimate</button>
            <span class="widget-hint">Back-end can decode mystery flags later.</span>
          </div>
        </div>
      </div>

      <!-- Garage / Upgrades Preview -->
      <div class="widget">
        <button class="widget-header" data-target="#garageBody">
          <span>üîí Garage ‚Ä¢ Pro Tools & Upgrades</span>
          <span class="widget-toggle">‚ñº</span>
        </button>
        <div class="widget-body" id="garageBody">
          <ul class="garage-list">
            <li>
              <span class="lock-label">Zero-Friction Docs‚Ñ¢</span>
              <span class="lock-pill">Locked ‚Ä¢ Upgrade</span>
            </li>
            <li>
              <span class="lock-label">Platinum Reports</span>
              <span class="lock-pill">Locked ‚Ä¢ Upgrade</span>
            </li>
            <li>
              <span class="lock-label">Route Builder & Lot Size Finder</span>
              <span class="lock-pill">Locked ‚Ä¢ In Garage</span>
            </li>
            <li>
              <span class="lock-label">Natty Sales University</span>
              <span class="lock-pill">Portal</span>
            </li>
          </ul>
          <button class="btn tiny outline" id="btnFounder">
            Founder‚Äôs Black Book (Pill) ‚Üí
          </button>
        </div>
      </div>

      <!-- Contact Pill (simple, you fill destination later) -->
      <div class="contact-pill">
        <div class="contact-label">Need Cardinal to wire your pricing logic?</div>
        <button class="btn tiny primary" id="btnContact">
          Contact Cardinal Garage Pro
        </button>
      </div>
    </section>
  </main>

  <!-- Minimal modal shell (for future) -->
  <div class="modal-backdrop hidden" id="modalBackdrop">
    <div class="modal">
      <div class="modal-title" id="modalTitle"></div>
      <div class="modal-body" id="modalBody"></div>
      <div class="modal-actions">
        <button class="btn tiny outline" id="modalClose">Close</button>
      </div>
    </div>
  </div>

  <script src="procalculator.js"></script>
</body>
</html>
