<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cardinal Garage â€¢ Choose Your Portal</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #ffffff;
      color: #111;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }
    .wrap {
      text-align: center;
      padding: 24px;
    }
    h1 { margin-bottom: 8px; }
    p { margin-top: 0; margin-bottom: 20px; color: #555; }
    .buttons {
      display: flex;
      gap: 14px;
      justify-content: center;
      flex-wrap: wrap;
    }
    a { text-decoration: none; }
    .btn {
      padding: 0.8rem 1.4rem;
      border-radius: 10px;
      border: 1px solid #C41E3A;
      background: #C41E3A;
      color: #fff;
      font-weight: 700;
      cursor: pointer;
      min-width: 150px;
      display: inline-block;
    }
    .btn.secondary {
      background: #ffffff;
      color: #C41E3A;
    }
    .note {
      margin-top: 14px;
      font-size: 0.8rem;
      color: #777;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Cardinal Garage</h1>
    <p>Select your portal.</p>
    <div class="buttons">
      <!-- Uses your exact filenames -->
      <a href="procalculator.html"><div class="btn">Pro Portal</div></a>
      <a href="homeowner.html"><div class="btn secondary">Homeowner (Beta)</div></a>
    </div>
    <div class="note">Straight to tools. No logins. No friction.</div>
  </div>
<!-- ========== DEV LOGIN OVERLAY ========== -->
<style>
  #devLoginLink {
    position: fixed; bottom: 6px; right: 12px;
    font-size: 13px; color: #c41e3a; cursor: pointer;
    opacity: .5; transition: opacity .2s;
  }
  #devLoginLink:hover { opacity: 1; }

  #devModal {
    display: none; position: fixed; inset: 0;
    background: rgba(255,255,255,.95);
    align-items: center; justify-content: center;
    z-index: 9999;
  }
  #devModal form {
    background: #fff; border:1px solid #ddd; border-radius:12px;
    padding:24px; box-shadow:0 0 20px rgba(0,0,0,.1);
    width:280px; text-align:center;
  }
  #devModal input {
    width:100%; margin:6px 0; padding:8px; font-size:15px;
    border:1px solid #ccc; border-radius:6px;
  }
  #devModal button {
    background:#c41e3a; color:#fff; border:none;
    padding:8px 14px; margin-top:8px;
    border-radius:6px; cursor:pointer;
  }
  #devModal button:hover { background:#a91b32; }

  .adminOnly { display:none; }
  .dev-mode .adminOnly { display:inline-block; }
</style>

<div id="devLoginLink">Dev Login</div>
<div id="devModal">
  <form id="devForm">
    <h3>Developer Access</h3>
    <input id="devEmail" type="email" placeholder="Email" required>
    <input id="devPass" type="password" placeholder="Passcode" required>
    <button type="submit">Enter</button><br>
    <small id="devMsg" style="color:#a91b32;"></small>
  </form>
</div>

  <!-- Example hidden admin control -->
<button id="trainBtn" class="adminOnly">Feed Training</button>

<script>
const CONFIG = {
  API_BASE: "https://cardinalgarageprobe1.onrender.com" // or your live backend
};

const devLink = document.getElementById("devLoginLink");
const devModal = document.getElementById("devModal");
const devForm  = document.getElementById("devForm");
const devMsg   = document.getElementById("devMsg");

// open login modal
devLink.onclick = ()=> devModal.style.display='flex';

// handle login
devForm.onsubmit = async (e)=>{
  e.preventDefault();
  const email = devForm.querySelector("#devEmail").value.trim();
  const pass  = devForm.querySelector("#devPass").value.trim();
  devMsg.textContent = "Verifying...";
  try {
    const resp = await fetch(`${CONFIG.API_BASE}/auth`, {
      method:"POST", headers:{'Content-Type':'application/json'},
      body: JSON.stringify({ email, pass })
    });
    if (!resp.ok) throw new Error("Denied");
    document.body.classList.add("dev-mode");
    devModal.style.display='none';
  } catch(err){
    devMsg.textContent = "Access denied.";
  }
};

// example admin button logic
document.getElementById("trainBtn").onclick = async ()=>{
  const note = prompt("Enter training note:");
  if(!note) return;
  const resp = await fetch(`${CONFIG.API_BASE}/train`, {
    method:"POST", headers:{'Content-Type':'application/json'},
    body: JSON.stringify({ note })
  });
  alert("Training data sent!");
};
</script>

  
</body>
</html>

